<!DOCTYPE html>
<body>
    <h1>Hyperspace</h1>
    <p>
        Amy enters the password.
        Slowly, the door to the pod hangar opens.
        Amy climbs in, straps herself in, and ejects the pod.
        She spends a few moments staring at the alien spaceship slowly growing
        smaller and smaller until it is entirely hidden within the vast expanse of space.
    </p>
    <p>
        Time to engage hyperspace, and get back to Earth.
        Amy quickly zooms into the evershifting expanse known as hyperspace.
        In hyperspace, passageways, wormholes, folds, identifications, and the like are constantly popping up and disappearing.
        Luckily, the pod has a self-updating map, but no navigation system.
        She needs your help!
    </p>
    <p>
        You will be supplied with a graph representing hyperspace.
        You will be expected to handle three types of queries:
        <ul>
            <li>A passageway pops open: add an edge to the graph.</li>
            <li>A potential path closes: remove an edge from the graph.</li>
            <li>A navigation request: figure out whether it is possible
                to get from location <code>a</code> to <code>b</code>.</li>
        </ul>
    </p>
    <h2>Input</h2>
    <p>
        The first line of input will contain three positive integers,
        $n, m$, and $q$.
        $n$ is the number of nodes in hyperspace.
        $m$ is the number of passages through hyperspace at program initialization.
        $q$ is the number of queries that you must field.
    </p>
    <p>
        Following this are $m$ lines, each containing two integers $a$ and $b$.
        This indicates a bidirectional passageway from $a$ to $b$
        ($1 \leq a, b \leq n$).
    </p>
    <p>
        Then follow $q$ queries, each on their own line.
        <ul>
            <li><code>1 a b</code> means that a passageway between <code>a</code> and <code>b</code> has popped up.</li>
            <li><code>2 a b</code> means that the passageway between <code>a</code> and <code>b</code> has closed.</li>
            <li><code>3 a b</code> means that Amy wants to know if it is currently possible to go from <code>a</code> to <code>b</code>.</li>
        </ul>
    </p>
    <p>
        It is guaranteed that at all times there is at most one passageway between any two nodes.
        It is guaranteed that any passageway that is closing currently exists.
    </p>
    <h2>Output</h2>
    <p>
        For each of Amy's requests, output $1$ if travel is possible between <code>a</code> and <code>b</code>,
        and $0$ if not.
    </p>
    <h3>Cases:</h3>
    <ul>
        <li>20 Points: $n, m, q \leq 100$, there are no queries of type $2$.</li>
        <li>40 Points: $n, m, q \leq 100$, there are all types of queries.</li>
        <li>60 Points: $n, m, q \leq 10^5$, there are no queries of type $2$.</li>
        <li>80 Points: $n, m, q \leq 10^5$, there are no queries of type $1$.</li>
        <li>100 Points: $n, m, q \leq 10^5$, there are all types of queries.</li>
    </ul>
    <h3>Sample Input</h3>
<pre>
4 3 5
1 3
2 3
4 3
3 1 4
2 1 3
3 1 4
1 2 1
3 1 4
</pre>
<h3>Sample Output</h3>
<pre>
1 0 1
</pre>
</body>